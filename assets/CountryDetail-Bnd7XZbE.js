import{a as S,r as a,j as e,L as l}from"./index-CMxZig9v.js";import{A as p}from"./ApiService-D3B47Tee.js";function E(){var j,h,x,g,f;const{code:i}=S(),[n,N]=a.useState(null),[o,v]=a.useState([]),[b,d]=a.useState(!1),[m,u]=a.useState(null);a.useEffect(()=>{if(!i)return;let s=!0;return d(!0),u(null),p.getByCode(i).then(r=>{if(s&&(N(r),r&&r.borders&&r.borders.length))return p.getByCodes(r.borders).then(t=>s&&v(t)).catch(()=>{})}).catch(r=>s&&u(String(r))).finally(()=>s&&d(!1)),()=>{s=!1}},[i]);function y(s){var r;try{const t=(r=s.name)==null?void 0:r.nativeName;if(!t)return s.name.common;const c=Object.values(t)[0];return(c==null?void 0:c.common)||s.name.common}catch{return s.name.common}}function C(s){return s.currencies?Object.values(s.currencies).map(r=>r.name).filter(Boolean).join(", "):"—"}function L(s){return s.languages?Object.values(s.languages).join(", "):"—"}return b?e.jsx("main",{className:"rc-main",role:"status","aria-live":"polite",children:"Loading country..."}):m?e.jsxs("main",{className:"rc-main",role:"alert",children:["Error: ",m]}):n?e.jsxs("main",{className:"rc-main country-detail",children:[e.jsxs(l,{to:"/",className:"back-btn",children:[e.jsx("span",{className:"back-icon",children:"←"})," Back"]}),e.jsxs("div",{className:"detail-grid",children:[e.jsx("div",{className:"detail-flag",children:e.jsx("img",{src:((j=n.flags)==null?void 0:j.svg)||((h=n.flags)==null?void 0:h.png),alt:`${n.name.common} flag`})}),e.jsxs("div",{className:"detail-info",children:[e.jsx("h2",{children:n.name.common}),e.jsxs("div",{className:"detail-columns",children:[e.jsxs("div",{className:"detail-col",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Native Name:"})," ",y(n)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Population:"})," ",(x=n.population)==null?void 0:x.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Region:"})," ",n.region]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sub Region:"})," ",n.subregion||"—"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Capital:"})," ",((g=n.capital)==null?void 0:g.join(", "))||"—"]})]}),e.jsxs("div",{className:"detail-col",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Top Level Domain:"})," ",((f=n.tld)==null?void 0:f.join(", "))||"—"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Currencies:"})," ",C(n)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Languages:"})," ",L(n)]})]})]}),o.length>0&&e.jsxs("div",{className:"border-countries",children:[e.jsx("strong",{children:"Border Countries:"}),e.jsx("div",{className:"borders-list",children:o.map(s=>e.jsx(l,{to:`/country/${s.cca3}`,className:"chip",children:s.name.common},s.cca3))})]})]})]})]}):e.jsxs("main",{className:"rc-main",children:[e.jsxs("p",{children:["No country found for ",e.jsx("strong",{children:i}),"."]}),e.jsx(l,{to:"/",className:"back-btn",children:"← Back"})]})}export{E as default};
